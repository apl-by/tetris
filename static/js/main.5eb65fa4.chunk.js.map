{"version":3,"sources":["components/BrickGame/Screen/Block/Block.js","utils/piecesConfig.js","utils/levelsConfig.js","utils/config.js","utils/utils.js","components/Main/Main.js","components/generic/Title/Title.js","components/BrickGame/Screen/PlayArea/PlayArea.js","components/BrickGame/Screen/GameStat/GameStat.js","components/BrickGame/Screen/Screen.js","components/BrickGame/ControlPanel/Btn/Btn.js","components/BrickGame/ControlPanel/ControlPanel.js","components/generic/Link/Link.js","images/github_icon.svg","components/BrickGame/BrickGame.js","components/Footer/Footer.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Block","state","match","cnBlock","cn","block_active","block_matched","className","memo","PIECES_CONFIG","I","base","cells","checkLeft","checkRight","checkBottom","left","reverse","right","O","L","J","S","Z","T","LEVEL_CONFIG","1","lev","speed","point","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","PIECES_TYPES","BASE_NUM","CONTROL_KEYS","down","turn","GH_LINK","createPlayArea","initialState","i","isActive","id","handlePieces","piecesObj","all","length","array","Array","fill","flat","newPieces","arr","j","Math","floor","random","mixArray","slice","current","next","displayNextPiece","statArea","newStatArea","_cloneDeep","forEach","checkMovement","playArea","piece","piecePos","direction","position","sum","x","y","cellsToCheck","map","some","String","save","savedGame","playAreaNoPiece","statAreaNoPiece","pieces","piecePosition","score","recordScore","lines","level","localStorage","setItem","JSON","stringify","Main","children","Title","text","mix","cnTitle","PlayArea","field","isPause","isStarted","isEnd","Object","entries","v","GameStat","statFild","record","Screen","Btn","type","ariaLabel","modSize","modColor","modShadow","onDown","onUp","cnBtn","aria-label","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","ControlPanel","pressedKey","isTablet","includes","Link","link","iconAlt","icon","cnLink","href","target","rel","src","alt","BrickGame","ghIcon","Footer","useState","year","setYear","useEffect","currentYear","Date","getFullYear","App","setPlayArea","setPlayAreaNoPiece","setStatArea","setStatAreaNoPiece","setPieces","setPiecePosition","isBlocked","setIsBlocked","isRoundFinished","setIsRoundFinished","isTimeEnded","setIsTimeEnded","isTimerRunning","setIsTimerRunning","setIsPause","setPressedKey","isEffectBlocked","setIsEffectBlocked","еffectСount","setEffectCount","setScore","setRecordScore","setLines","setLevel","wasUserMoveDown","setWasUserMoveDown","isGameOver","setIsGameOver","count","setCount","gameOverTimer","setGameOverTimer","isRestart","setIsResrart","console","log","useMediaQuery","query","saveData","useCallback","useLayoutEffect","getItem","parse","initialPlayArea","initialStatArea","statAria","arrNum","num","splice","createStatArea","document","addEventListener","handleKeyup","handleKeydown","removeEventListener","newPlayArea","updatePlayArea","handleRoundEnd","currentPlayArea","matches","clone","activeCells","nonActiveCells","rowStartCell","from","el","ind","searchMatch","matchedLines","keys","values","displayMatches","newPlayAria","matchedRows","rowsBefore","push","rowsWithoutMatches","filter","stop","rowForReplace","deleteMatches","sumLines","setTimeout","prev","LINES_CONFIG","getScore","startsWith","startCell","fillPlayAria","clearPlayAria","turnPiece","newPos","getTurnPosition","checkRotation","moveLeft","moveRight","moveDown","key","dropDown","drop","handleDrop","startGame","handlePause","restartGame","e","preventDefault","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5eb65fa4.chunk.js","sourcesContent":["import \"./Block.scss\";\r\nimport cn from \"classnames\";\r\nimport { memo } from \"react\";\r\n\r\nfunction Block({ state, match }) {\r\n  const cnBlock = cn(\"block\", {\r\n    block_active: state && !match,\r\n    block_matched: match,\r\n  });\r\n  return <li className={cnBlock}></li>;\r\n}\r\n\r\nexport default memo(Block);\r\n","const PIECES_CONFIG = {\r\n  I: {\r\n    base: {\r\n      cells: [13, 14, 15, 16],\r\n      checkLeft: [12],\r\n      checkRight: [17],\r\n      checkBottom: [23, 24, 25, 26],\r\n    },\r\n    left: {\r\n      cells: [-6, 4, 14, 24],\r\n      checkLeft: [-7, 3, 13, 23],\r\n      checkRight: [-5, 5, 15, 25],\r\n      checkBottom: [34],\r\n    },\r\n    reverse: {\r\n      cells: [13, 14, 15, 16],\r\n      checkLeft: [12],\r\n      checkRight: [17],\r\n      checkBottom: [23, 24, 25, 26],\r\n    },\r\n    right: {\r\n      cells: [-6, 4, 14, 24],\r\n      checkLeft: [-7, 3, 13, 23],\r\n      checkRight: [-5, 5, 15, 25],\r\n      checkBottom: [34],\r\n    },\r\n  },\r\n  O: {\r\n    base: {\r\n      cells: [4, 5, 14, 15],\r\n      checkLeft: [3, 13],\r\n      checkRight: [6, 16],\r\n      checkBottom: [24, 25],\r\n    },\r\n    left: {\r\n      cells: [4, 5, 14, 15],\r\n      checkLeft: [3, 13],\r\n      checkRight: [6, 16],\r\n      checkBottom: [24, 25],\r\n    },\r\n    reverse: {\r\n      cells: [4, 5, 14, 15],\r\n      checkLeft: [3, 13],\r\n      checkRight: [6, 16],\r\n      checkBottom: [24, 25],\r\n    },\r\n    right: {\r\n      cells: [4, 5, 14, 15],\r\n      checkLeft: [3, 13],\r\n      checkRight: [6, 16],\r\n      checkBottom: [24, 25],\r\n    },\r\n  },\r\n  L: {\r\n    base: {\r\n      cells: [6, 14, 15, 16],\r\n      checkLeft: [5, 13],\r\n      checkRight: [7, 17],\r\n      checkBottom: [24, 25, 26],\r\n    },\r\n    left: {\r\n      cells: [4, 5, 15, 25],\r\n      checkLeft: [3, 14, 24],\r\n      checkRight: [6, 16, 26],\r\n      checkBottom: [14, 35],\r\n    },\r\n    reverse: {\r\n      cells: [4, 5, 6, 14],\r\n      checkLeft: [3, 13],\r\n      checkRight: [7, 15],\r\n      checkBottom: [15, 16, 24],\r\n    },\r\n    right: {\r\n      cells: [4, 14, 24, 25],\r\n      checkLeft: [3, 13, 23],\r\n      checkRight: [5, 15, 26],\r\n      checkBottom: [34, 35],\r\n    },\r\n  },\r\n  J: {\r\n    base: {\r\n      cells: [4, 14, 15, 16],\r\n      checkLeft: [3, 13],\r\n      checkRight: [5, 17],\r\n      checkBottom: [24, 25, 26],\r\n    },\r\n    left: {\r\n      cells: [5, 15, 24, 25],\r\n      checkLeft: [4, 14, 23],\r\n      checkRight: [6, 16, 26],\r\n      checkBottom: [34, 35],\r\n    },\r\n    reverse: {\r\n      cells: [4, 5, 6, 16],\r\n      checkLeft: [3, 15],\r\n      checkRight: [7, 17],\r\n      checkBottom: [14, 15, 26],\r\n    },\r\n    right: {\r\n      cells: [4, 5, 14, 24],\r\n      checkLeft: [3, 13, 23],\r\n      checkRight: [6, 15, 25],\r\n      checkBottom: [15, 34],\r\n    },\r\n  },\r\n  S: {\r\n    base: {\r\n      cells: [5, 6, 14, 15],\r\n      checkLeft: [4, 13],\r\n      checkRight: [7, 16],\r\n      checkBottom: [16, 24, 25],\r\n    },\r\n    left: {\r\n      cells: [4, 14, 15, 25],\r\n      checkLeft: [3, 13, 24],\r\n      checkRight: [5, 16, 26],\r\n      checkBottom: [24, 35],\r\n    },\r\n    reverse: {\r\n      cells: [5, 6, 14, 15],\r\n      checkLeft: [4, 13],\r\n      checkRight: [7, 16],\r\n      checkBottom: [16, 24, 25],\r\n    },\r\n    right: {\r\n      cells: [4, 14, 15, 25],\r\n      checkLeft: [3, 13, 24],\r\n      checkRight: [5, 16, 26],\r\n      checkBottom: [24, 35],\r\n    },\r\n  },\r\n  Z: {\r\n    base: {\r\n      cells: [4, 5, 15, 16],\r\n      checkLeft: [3, 14],\r\n      checkRight: [6, 17],\r\n      checkBottom: [14, 25, 26],\r\n    },\r\n    left: {\r\n      cells: [6, 15, 16, 25],\r\n      checkLeft: [5, 14, 24],\r\n      checkRight: [7, 17, 26],\r\n      checkBottom: [26, 35],\r\n    },\r\n    reverse: {\r\n      cells: [4, 5, 15, 16],\r\n      checkLeft: [3, 14],\r\n      checkRight: [6, 17],\r\n      checkBottom: [14, 25, 26],\r\n    },\r\n    right: {\r\n      cells: [6, 15, 16, 25],\r\n      checkLeft: [5, 14, 24],\r\n      checkRight: [7, 17, 26],\r\n      checkBottom: [26, 35],\r\n    },\r\n  },\r\n  T: {\r\n    base: {\r\n      cells: [5, 14, 15, 16],\r\n      checkLeft: [4, 13],\r\n      checkRight: [6, 17],\r\n      checkBottom: [24, 25, 26],\r\n    },\r\n    left: {\r\n      cells: [5, 14, 15, 25],\r\n      checkLeft: [4, 13, 24],\r\n      checkRight: [6, 16, 26],\r\n      checkBottom: [24, 35],\r\n    },\r\n    reverse: {\r\n      cells: [4, 5, 6, 15],\r\n      checkLeft: [3, 14],\r\n      checkRight: [7, 16],\r\n      checkBottom: [14, 16, 25],\r\n    },\r\n    right: {\r\n      cells: [5, 15, 16, 25],\r\n      checkLeft: [4, 14, 24],\r\n      checkRight: [6, 17, 26],\r\n      checkBottom: [26, 35],\r\n    },\r\n  },\r\n};\r\n\r\nexport default PIECES_CONFIG;\r\n","const LEVEL_CONFIG = {\r\n  1: {\r\n    lev: 1,\r\n    speed: 850,\r\n    point: {\r\n      1: 40,\r\n      2: 100,\r\n      3: 300,\r\n      4: 900,\r\n    },\r\n  },\r\n  2: {\r\n    lev: 2,\r\n    speed: 760,\r\n    point: {\r\n      1: 80,\r\n      2: 200,\r\n      3: 600,\r\n      4: 1800,\r\n    },\r\n  },\r\n  3: {\r\n    lev: 3,\r\n    speed: 670,\r\n    point: {\r\n      1: 120,\r\n      2: 300,\r\n      3: 900,\r\n      4: 2700,\r\n    },\r\n  },\r\n  4: {\r\n    lev: 4,\r\n    speed: 580,\r\n    point: {\r\n      1: 160,\r\n      2: 400,\r\n      3: 1200,\r\n      4: 3600,\r\n    },\r\n  },\r\n  5: {\r\n    lev: 5,\r\n    speed: 500,\r\n    point: {\r\n      1: 200,\r\n      2: 500,\r\n      3: 1500,\r\n      4: 4500,\r\n    },\r\n  },\r\n  6: {\r\n    lev: 6,\r\n    speed: 410,\r\n    point: {\r\n      1: 240,\r\n      2: 600,\r\n      3: 1800,\r\n      4: 5400,\r\n    },\r\n  },\r\n  7: {\r\n    lev: 7,\r\n    speed: 350,\r\n    point: {\r\n      1: 280,\r\n      2: 700,\r\n      3: 2100,\r\n      4: 6300,\r\n    },\r\n  },\r\n  8: {\r\n    lev: 8,\r\n    speed: 290,\r\n    point: {\r\n      1: 320,\r\n      2: 800,\r\n      3: 2400,\r\n      4: 7200,\r\n    },\r\n  },\r\n  9: {\r\n    lev: 9,\r\n    speed: 250,\r\n    point: {\r\n      1: 360,\r\n      2: 900,\r\n      3: 2700,\r\n      4: 8100,\r\n    },\r\n  },\r\n  10: {\r\n    lev: 10,\r\n    speed: 200,\r\n    point: {\r\n      1: 400,\r\n      2: 1000,\r\n      3: 3000,\r\n      4: 9000,\r\n    },\r\n  },\r\n  11: {\r\n    lev: 11,\r\n    speed: 180,\r\n    point: {\r\n      1: 440,\r\n      2: 1100,\r\n      3: 3300,\r\n      4: 9900,\r\n    },\r\n  },\r\n  12: {\r\n    lev: 12,\r\n    speed: 150,\r\n    point: {\r\n      1: 480,\r\n      2: 1200,\r\n      3: 3600,\r\n      4: 10800,\r\n    },\r\n  },\r\n  13: {\r\n    lev: 13,\r\n    speed: 130,\r\n    point: {\r\n      1: 520,\r\n      2: 1300,\r\n      3: 3900,\r\n      4: 11700,\r\n    },\r\n  },\r\n  14: {\r\n    lev: 14,\r\n    speed: 110,\r\n    point: {\r\n      1: 560,\r\n      2: 1400,\r\n      3: 4200,\r\n      4: 12600,\r\n    },\r\n  },\r\n  15: {\r\n    lev: 15,\r\n    speed: 90,\r\n    point: {\r\n      1: 600,\r\n      2: 1500,\r\n      3: 4500,\r\n      4: 13500,\r\n    },\r\n  },\r\n  16: {\r\n    lev: 16,\r\n    speed: 70,\r\n    point: {\r\n      1: 640,\r\n      2: 1600,\r\n      3: 4800,\r\n      4: 14400,\r\n    },\r\n  },\r\n  17: {\r\n    lev: 17,\r\n    speed: 65,\r\n    point: {\r\n      1: 680,\r\n      2: 1700,\r\n      3: 5100,\r\n      4: 15300,\r\n    },\r\n  },\r\n  18: {\r\n    lev: 18,\r\n    speed: 60,\r\n    point: {\r\n      1: 720,\r\n      2: 1800,\r\n      3: 5400,\r\n      4: 16200,\r\n    },\r\n  },\r\n  19: {\r\n    lev: 19,\r\n    speed: 55,\r\n    point: {\r\n      1: 760,\r\n      2: 1900,\r\n      3: 5700,\r\n      4: 17100,\r\n    },\r\n  },\r\n  20: {\r\n    lev: 20,\r\n    speed: 45,\r\n    point: {\r\n      1: 800,\r\n      2: 2100,\r\n      3: 6300,\r\n      4: 18900,\r\n    },\r\n  },\r\n  21: {\r\n    lev: 21,\r\n    speed: 30,\r\n    point: {\r\n      1: 3333,\r\n      2: 7777,\r\n      3: 77777,\r\n      4: 777777,\r\n    },\r\n  },\r\n};\r\n\r\nexport default LEVEL_CONFIG;\r\n","export const PIECES_TYPES = [\"I\", \"O\", \"L\", \"J\", \"S\", \"Z\", \"T\"];\r\nexport const BASE_NUM = [3, 4, 5, 6, 13, 14, 15, 16];\r\nexport const CONTROL_KEYS = {\r\n  left: [\"ArrowLeft\", \"a\", \"A\"],\r\n  right: [\"ArrowRight\", \"d\", \"D\"],\r\n  down: [\"ArrowDown\", \"s\", \"S\"],\r\n  turn: [\"ArrowUp\", \"w\", \"W\"],\r\n};\r\n\r\nexport const GH_LINK = \"https://github.com/apl-by/tetris\";\r\n","import PIECES_CONFIG from \"./piecesConfig\";\r\nimport LINES_CONFIG from \"./levelsConfig\";\r\nimport { PIECES_TYPES, BASE_NUM } from \"./config\";\r\nimport _cloneDeep from \"lodash/cloneDeep\";\r\n\r\nexport const createPlayArea = () => {\r\n  const initialState = {};\r\n  for (let i = 10; i < 210; i++) {\r\n    initialState[`${i}`] = { isActive: false, match: false, id: i };\r\n  }\r\n  return initialState;\r\n};\r\n\r\nexport const createStatArea = () => {\r\n  const statAria = {};\r\n  const arrNum = BASE_NUM;\r\n  for (let i = 0; i < 8; i++) {\r\n    const num = arrNum.splice(0, 1);\r\n    statAria[`${num}`] = { isActive: false, id: num };\r\n  }\r\n  return statAria;\r\n};\r\n\r\nconst mixArray = (array) => {\r\n  const arr = [...array];\r\n  for (let i = arr.length - 1; i > 0; i--) {\r\n    let j = Math.floor(Math.random() * (i + 1));\r\n    [arr[i], arr[j]] = [arr[j], arr[i]];\r\n  }\r\n  return arr;\r\n};\r\n\r\nexport const handlePieces = (piecesObj) => {\r\n  if (piecesObj.all.length < 2) {\r\n    const array = new Array(2).fill(PIECES_TYPES).flat();\r\n    const newPieces = [...piecesObj.all, ...mixArray(array)];\r\n    return {\r\n      all: newPieces.slice(1),\r\n      current: newPieces[0],\r\n      next: newPieces[1],\r\n    };\r\n  }\r\n  return {\r\n    all: piecesObj.all.slice(1),\r\n    current: piecesObj.all[0],\r\n    next: piecesObj.all[1],\r\n  };\r\n};\r\n\r\nexport const displayNextPiece = (next, statArea) => {\r\n  const newStatArea = _cloneDeep(statArea);\r\n  const pieceCells = PIECES_CONFIG[`${next}`].base.cells;\r\n  pieceCells.forEach((i) => {\r\n    newStatArea[`${i}`].isActive = true;\r\n  });\r\n  return newStatArea;\r\n};\r\n\r\nexport const updatePlayArea = (playArea, piece, piecePos) => {\r\n  const newPlayArea = _cloneDeep(playArea);\r\n  const { position, x, y } = piecePos;\r\n  const sum = x + y;\r\n  const pieceCells = PIECES_CONFIG[`${piece}`][`${position}`].cells;\r\n  const newPos = pieceCells.map((i) => i + sum);\r\n\r\n  newPos.forEach((i) => {\r\n    if (i < 10) return;\r\n    newPlayArea[`${i}`].isActive = true;\r\n  });\r\n  return newPlayArea;\r\n};\r\n\r\nexport const checkMovement = (playArea, piece, piecePos, direction) => {\r\n  const { position, x, y } = piecePos;\r\n  const sum = x + y;\r\n  const cells = PIECES_CONFIG[`${piece}`][`${position}`][`${direction}`];\r\n  const cellsToCheck = cells.map((i) => i + sum);\r\n\r\n  if (cellsToCheck.some((i) => i > 209)) return false;\r\n\r\n  if (\r\n    direction === \"checkLeft\" &&\r\n    cellsToCheck.some((i) =>\r\n      i < 0 ? String(i).match(/-\\d?1$/) : String(i).match(/9$/)\r\n    )\r\n  )\r\n    return false;\r\n\r\n  if (\r\n    direction === \"checkRight\" &&\r\n    cellsToCheck.some((i) =>\r\n      i < 0 ? String(i).match(/-\\d?0$/) : String(i).match(/0$/)\r\n    )\r\n  )\r\n    return false;\r\n\r\n  return !cellsToCheck.some((i) =>\r\n    i < 10 ? false : playArea[`${i}`].isActive === true\r\n  );\r\n};\r\n\r\nexport const getTurnPosition = (piecePosition) => {\r\n  const clone = { ...piecePosition };\r\n  clone.position =\r\n    clone.position === \"base\"\r\n      ? \"left\"\r\n      : clone.position === \"left\"\r\n      ? \"reverse\"\r\n      : clone.position === \"reverse\"\r\n      ? \"right\"\r\n      : \"base\";\r\n\r\n  return clone;\r\n};\r\n\r\nexport const checkRotation = (playArea, piece, piecePos) => {\r\n  const { position, x, y } = piecePos;\r\n  const sum = x + y;\r\n  const cells = PIECES_CONFIG[`${piece}`][`${position}`].cells;\r\n  const cellsToCheck = cells.map((i) => i + sum);\r\n\r\n  if (cellsToCheck.some((i) => i > 209)) return false;\r\n\r\n  if (\r\n    cellsToCheck.some((i) =>\r\n      i < 0 ? String(i).match(/-\\d?1$/) : String(i).match(/9$/)\r\n    ) &&\r\n    cellsToCheck.some((i) =>\r\n      i < 0 ? String(i).match(/-\\d?0$/) : String(i).match(/0$/)\r\n    )\r\n  )\r\n    return false;\r\n\r\n  return !cellsToCheck.some((i) =>\r\n    i < 10 ? false : playArea[`${i}`].isActive === true\r\n  );\r\n};\r\n\r\nexport const handleDrop = (playArea, piece, piecePos) => {\r\n  const { position, x, y } = piecePos;\r\n  const sum = x + y;\r\n  const cells = PIECES_CONFIG[`${piece}`][`${position}`].checkBottom;\r\n  const cellsToCheck = cells.map((i) => i + sum);\r\n\r\n  let count = y;\r\n  while (count < 190) {\r\n    if (cellsToCheck.some((i) => i > 209 || playArea[`${i}`].isActive === true))\r\n      break;\r\n\r\n    count += 10;\r\n    cellsToCheck.forEach((i, ind, arr) => (arr[ind] = i + 10));\r\n  }\r\n  return { ...piecePos, y: count };\r\n};\r\n\r\nexport const searchMatch = (playArea) => {\r\n  const clone = _cloneDeep(playArea);\r\n  const matches = {};\r\n  let match = 0;\r\n\r\n  for (let i = 200; i >= 10 && match < 4; i -= 10) {\r\n    let activeCells = 0;\r\n    let nonActiveCells = 0;\r\n\r\n    for (let j = 0; j < 10 && !(activeCells && nonActiveCells); j++) {\r\n      clone[`${i + j}`].isActive ? activeCells++ : nonActiveCells++;\r\n    }\r\n\r\n    if (activeCells === 10) {\r\n      match++;\r\n      matches[`match${match}`] = {\r\n        rowStartCell: i,\r\n        cells: Array.from({ length: 10 }, (el, ind) => i + ind),\r\n      };\r\n    }\r\n    if (!activeCells) break;\r\n  }\r\n  return matches;\r\n};\r\n\r\nexport const displayMatches = (playArea, matches) => {\r\n  const clone = _cloneDeep(playArea);\r\n  const matchedCells = Object.values(matches)\r\n    .map((i) => i.cells)\r\n    .flat();\r\n  matchedCells.forEach((i) => (clone[`${i}`].match = true));\r\n  return clone;\r\n};\r\n\r\nexport const deleteMatches = (playArea, matches) => {\r\n  const clone = _cloneDeep(playArea);\r\n  const matchedRows = Object.values(matches).map((i) => i.rowStartCell);\r\n  const rowsBefore = [];\r\n  for (let i = matchedRows[0]; i > 10; i -= 10) {\r\n    rowsBefore.push(i);\r\n  }\r\n  const rowsWithoutMatches = rowsBefore.filter((i) => !matchedRows.includes(i));\r\n\r\n  let stop = false;\r\n  rowsBefore.forEach((i) => {\r\n    if (stop) return;\r\n\r\n    const rowForReplace = rowsWithoutMatches.splice(0, 1);\r\n    let activeCells = 0;\r\n    for (let j = 0; j < 10; j++) {\r\n      if (clone[`${i + j}`].isActive) activeCells++;\r\n      clone[`${i + j}`].isActive = clone[`${+rowForReplace + j}`].isActive;\r\n      clone[`${i + j}`].match = clone[`${+rowForReplace + j}`].match;\r\n    }\r\n\r\n    if (!activeCells) stop = true;\r\n  });\r\n\r\n  return clone;\r\n};\r\n\r\nexport const getScore = (prev, lines, level) => {\r\n  const point = LINES_CONFIG[level].point[lines];\r\n  return prev + point;\r\n};\r\n\r\nexport const fillPlayAria = (playArea, startCell) => {\r\n  const clone = _cloneDeep(playArea);\r\n  for (let i = 0; i < 10; i++) {\r\n    clone[`${startCell + i}`].isActive = true;\r\n  }\r\n  return clone;\r\n};\r\n\r\nexport const clearPlayAria = (playArea, startCell) => {\r\n  const clone = _cloneDeep(playArea);\r\n  for (let i = 0; i < 10; i++) {\r\n    clone[`${startCell + i}`].isActive = false;\r\n  }\r\n  return clone;\r\n};\r\n\r\nexport const save = ({\r\n  playArea,\r\n  playAreaNoPiece,\r\n  statArea,\r\n  statAreaNoPiece,\r\n  pieces,\r\n  piecePosition,\r\n  score,\r\n  recordScore,\r\n  lines,\r\n  level,\r\n}) => {\r\n  const savedGame = {\r\n    playArea: playArea,\r\n    playAreaNoPiece: playAreaNoPiece,\r\n    statArea: statArea,\r\n    statAreaNoPiece: statAreaNoPiece,\r\n    pieces: pieces,\r\n    piecePosition: piecePosition,\r\n    score: score,\r\n    recordScore: recordScore,\r\n    lines: lines,\r\n    level: level,\r\n  };\r\n  localStorage.setItem(\"saved-game\", JSON.stringify(savedGame));\r\n};\r\n","import \"./Main.scss\";\r\n\r\nfunction Main({ children }) {\r\n  return <main className=\"main\">{children}</main>;\r\n}\r\n\r\nexport default Main;\r\n","import \"./Title.scss\";\r\nimport cn from \"classnames\";\r\n\r\nfunction Title({ text, mix }) {\r\n  const cnTitle = cn(\"title\", { [`${mix}`]: mix });\r\n\r\n  return <p className={cnTitle}>{text}</p>;\r\n}\r\n\r\nexport default Title;\r\n","import \"./PlayArea.scss\";\r\nimport Block from \"../Block/Block\";\r\nimport Title from \"../../../generic/Title/Title\";\r\n\r\nfunction PlayArea({ field, isPause, isStarted, isEnd }) {\r\n  return (\r\n    <div className=\"play-area\">\r\n      <ul className=\"play-area__list\">\r\n        {Object.entries(field).map(([k, v]) => (\r\n          <Block key={v.id} state={v.isActive} match={v.match} />\r\n        ))}\r\n      </ul>\r\n      {isPause && (\r\n        <div className=\"play-area__cover\">\r\n          {isStarted && <Title text=\"Пауза\" mix=\"play-area__pause\" />}\r\n          {!isStarted && !isEnd && (\r\n            <Title text={`Жми\\nстарт`} mix=\"play-area__start\" />\r\n          )}\r\n          {isEnd && <Title text={`Конец\\nигры`} mix=\"play-area__end\" />}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PlayArea;\r\n","import \"./GameStat.scss\";\r\nimport Block from \"../Block/Block\";\r\n\r\nfunction GameStat({ statFild, score, lines, level, record }) {\r\n  return (\r\n    <div className=\"game-stat\">\r\n      <h2 className=\"game-stat__title\">Очки:</h2>\r\n      <p className=\"game-stat__value\">{score}</p>\r\n      <h2 className=\"game-stat__title\">Линии:</h2>\r\n      <p className=\"game-stat__value\">{lines}</p>\r\n      <h2 className=\"game-stat__title\">Уровень:</h2>\r\n      <p className=\"game-stat__value\">{level}</p>\r\n      <h2 className=\"game-stat__title\">Следующая:</h2>\r\n      <ul className=\"game-stat__list\">\r\n        {Object.entries(statFild).map(([k, v]) => (\r\n          <Block key={v.id} state={v.isActive} match={v.match} />\r\n        ))}\r\n      </ul>\r\n      <h2 className=\"game-stat__title\">Рекорд:</h2>\r\n      <p className=\"game-stat__value\">{record}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GameStat;\r\n","import \"./Screen.scss\";\r\nimport PlayArea from \"./PlayArea/PlayArea\";\r\nimport GameStat from \"./GameStat/GameStat\";\r\n\r\nfunction Screen({\r\n  field,\r\n  statFild,\r\n  score,\r\n  lines,\r\n  level,\r\n  isPause,\r\n  isStarted,\r\n  isEnd,\r\n  record,\r\n}) {\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"container__title\">Тетрис</h1>\r\n      <div className=\"screen\">\r\n        <PlayArea\r\n          field={field}\r\n          isPause={isPause}\r\n          isStarted={isStarted}\r\n          isEnd={isEnd}\r\n        />\r\n        <GameStat\r\n          statFild={statFild}\r\n          score={score}\r\n          lines={lines}\r\n          level={level}\r\n          record={record}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Screen;\r\n","import \"./Btn.scss\";\nimport cn from \"classnames\";\n\nfunction Btn({\n  type,\n  ariaLabel,\n  modSize,\n  modColor,\n  modShadow,\n  mix,\n  onDown,\n  onUp,\n}) {\n  const cnBtn = cn(\n    \"btn\",\n    {\n      [`btn_size_${modSize}`]: modSize,\n      [`btn_color_${modColor}`]: modColor,\n      [`btn_shadow_${modShadow}`]: modShadow,\n    },\n    { [`${mix}`]: mix }\n  );\n\n  return (\n    <button\n      className={cnBtn}\n      type={type}\n      aria-label={ariaLabel}\n      onMouseDown={onDown}\n      onMouseUp={onUp}\n      onTouchStart={onDown}\n      onTouchEnd={onUp}\n    ></button>\n  );\n}\n\nexport default Btn;\n","import \"./ControlPanel.scss\";\nimport Btn from \"./Btn/Btn\";\n\nfunction ControlPanel({ onDown, onUp, pressedKey, isTablet }) {\n  const modShadow =\n    pressedKey === \"\"\n      ? null\n      : [\"restart\", \"pause\"].includes(pressedKey)\n      ? \"reverse-s\"\n      : \"reverse-m\";\n\n  return (\n    <div className=\"control-panel\">\n      <div className=\"control-panel__main\">\n        <Btn\n          type=\"button\"\n          ariaLabel=\"влево\"\n          modSize={isTablet ? \"mobile\" : \"m\"}\n          modColor=\"yellow\"\n          modShadow={pressedKey === \"left\" ? modShadow : null}\n          mix=\"control-panel__left\"\n          onDown={() => onDown(\"left\")}\n          onUp={() => onUp()}\n        />\n        <Btn\n          type=\"button\"\n          ariaLabel=\"вниз\"\n          modSize={isTablet ? \"mobile\" : \"m\"}\n          modColor=\"yellow\"\n          modShadow={pressedKey === \"down\" ? modShadow : null}\n          mix=\"control-panel__down\"\n          onDown={() => onDown(\"down\")}\n          onUp={() => onUp()}\n        />\n        <Btn\n          type=\"button\"\n          ariaLabel=\"повернуть\"\n          modSize={isTablet ? \"mobile\" : \"m\"}\n          modColor=\"yellow\"\n          modShadow={pressedKey === \"turn\" ? modShadow : null}\n          mix=\"control-panel__up\"\n          onDown={() => onDown(\"turn\")}\n          onUp={() => onUp()}\n        />\n        <Btn\n          type=\"button\"\n          ariaLabel=\"вправо\"\n          modSize={isTablet ? \"mobile\" : \"m\"}\n          modColor=\"yellow\"\n          modShadow={pressedKey === \"right\" ? modShadow : null}\n          mix=\"control-panel__right\"\n          onDown={() => onDown(\"right\")}\n          onUp={() => onUp()}\n        />\n      </div>\n      <div className=\"control-panel__top\">\n        <Btn\n          type=\"button\"\n          ariaLabel=\"кнопка сбросить\"\n          modSize=\"s\"\n          modColor=\"red\"\n          modShadow={pressedKey === \"restart\" ? modShadow : null}\n          mix=\"control-panel__small-btn\"\n          onDown={() => onDown(\"restart\")}\n          onUp={() => onUp()}\n        />\n        <Btn\n          type=\"button\"\n          ariaLabel=\"кнопка пауза/старт\"\n          modSize=\"s\"\n          modColor=\"green\"\n          modShadow={pressedKey === \"pause\" ? modShadow : null}\n          mix=\"control-panel__small-btn\"\n          onDown={() => onDown(\"pause\")}\n          onUp={() => onUp()}\n        />\n        <Btn\n          type=\"button\"\n          ariaLabel=\"кнопка уронить\"\n          modSize={isTablet ? \"mobile\" : \"l\"}\n          modColor=\"yellow\"\n          modShadow={pressedKey === \"drop\" ? modShadow : null}\n          mix=\"control-panel__drop\"\n          onDown={() => onDown(\"drop\")}\n          onUp={() => onUp()}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default ControlPanel;\n","import \"./Link.scss\";\r\nimport cn from \"classnames\";\r\n\r\nfunction Link({ link, iconAlt, icon, mix }) {\r\n  const cnLink = cn(\"link\", { [`${mix}`]: mix });\r\n\r\n  return (\r\n    <a href={link} target=\"_blank\" rel=\"noreferrer\" className={cnLink}>\r\n      <img src={icon} alt={iconAlt} className=\"link__icon\" /> Github\r\n    </a>\r\n  );\r\n}\r\n\r\nexport default Link;\r\n","export default __webpack_public_path__ + \"static/media/github_icon.0f101c29.svg\";","import \"./BrickGame.scss\";\r\nimport Screen from \"./Screen/Screen\";\r\nimport ControlPanel from \"./ControlPanel/ControlPanel\";\r\nimport Link from \"../generic/Link/Link\";\r\nimport ghIcon from \"../../images/github_icon.svg\";\r\nimport { GH_LINK } from \"../../utils/config\";\r\n\r\nfunction BrickGame({\r\n  field,\r\n  statFild,\r\n  score,\r\n  lines,\r\n  level,\r\n  isPause,\r\n  isStarted,\r\n  isEnd,\r\n  record,\r\n  onDown,\r\n  onUp,\r\n  pressedKey,\r\n  isTablet,\r\n}) {\r\n  return (\r\n    <section className=\"brick-game\">\r\n      {isTablet && (\r\n        <Link\r\n          link={GH_LINK}\r\n          icon={ghIcon}\r\n          iconAlt=\"иконка github\"\r\n          mix=\"brick-game__link\"\r\n        />\r\n      )}\r\n      <Screen\r\n        field={field}\r\n        statFild={statFild}\r\n        score={score}\r\n        lines={lines}\r\n        level={level}\r\n        isPause={isPause}\r\n        isStarted={isStarted}\r\n        isEnd={isEnd}\r\n        record={record}\r\n      />\r\n      <ControlPanel\r\n        onDown={onDown}\r\n        onUp={onUp}\r\n        pressedKey={pressedKey}\r\n        isTablet={isTablet}\r\n      />\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default BrickGame;\r\n","import \"./Footer.scss\";\r\nimport Link from \"../generic/Link/Link\";\r\nimport { useState, useEffect } from \"react\";\r\nimport ghIcon from \"../../images/github_icon.svg\";\r\nimport { GH_LINK } from \"../../utils/config\";\r\n\r\nfunction Footer() {\r\n  const [year, setYear] = useState(2021);\r\n\r\n  useEffect(() => {\r\n    const date = new Date();\r\n    const currentYear = date.getFullYear();\r\n    if (currentYear > 2021) {\r\n      setYear(`2021-${currentYear}`);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {year} \"Проект - тетрис\"</p>\r\n      <Link link={GH_LINK} icon={ghIcon} iconAlt=\"иконка github\" />\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import \"./App.scss\";\nimport \"../BrickGame/Screen/Block/Block\";\nimport { useState, useEffect, useLayoutEffect, useCallback } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport {\n  createPlayArea,\n  createStatArea,\n  handlePieces,\n  displayNextPiece,\n  updatePlayArea,\n  checkMovement,\n  getTurnPosition,\n  checkRotation,\n  handleDrop,\n  searchMatch,\n  displayMatches,\n  deleteMatches,\n  getScore,\n  fillPlayAria,\n  clearPlayAria,\n  save,\n} from \"../../utils/utils\";\nimport { CONTROL_KEYS } from \"../../utils/config\";\nimport LEVEL_CONFIG from \"../../utils/levelsConfig\";\nimport Main from \"../Main/Main\";\nimport BrickGame from \"../BrickGame/BrickGame\";\nimport Footer from \"../Footer/Footer\";\n\nfunction App() {\n  const [playArea, setPlayArea] = useState({});\n  const [playAreaNoPiece, setPlayAreaNoPiece] = useState({});\n  const [statArea, setStatArea] = useState({});\n  const [statAreaNoPiece, setStatAreaNoPiece] = useState({});\n  const [pieces, setPieces] = useState({ all: [], current: \"\", next: \"\" });\n  const [piecePosition, setPiecePosition] = useState({\n    position: \"base\",\n    x: 0,\n    y: 0,\n  });\n  const [isBlocked, setIsBlocked] = useState(false);\n  const [isRoundFinished, setIsRoundFinished] = useState(false);\n  const [isTimeEnded, setIsTimeEnded] = useState(false);\n  const [isTimerRunning, setIsTimerRunning] = useState(false);\n  const [isPause, setIsPause] = useState(true);\n  const [pressedKey, setPressedKey] = useState(\"\");\n  const [isEffectBlocked, setIsEffectBlocked] = useState(false);\n  const [еffectСount, setEffectCount] = useState(0);\n  const [score, setScore] = useState(0);\n  const [recordScore, setRecordScore] = useState(0);\n  const [lines, setLines] = useState(0);\n  const [level, setLevel] = useState(LEVEL_CONFIG[\"1\"]);\n  const [wasUserMoveDown, setWasUserMoveDown] = useState(false);\n  const [isGameOver, setIsGameOver] = useState(false);\n  const [count, setCount] = useState(0);\n  const [gameOverTimer, setGameOverTimer] = useState(false);\n  const [isRestart, setIsResrart] = useState(false);\n  console.log(count);\n\n  const isTablet = useMediaQuery({\n    query: \"(max-width: 768px)\",\n  });\n\n  // Сохранить объект в LocalStorage\n  const saveData = useCallback(() => {\n    save({\n      playArea,\n      playAreaNoPiece,\n      statArea,\n      statAreaNoPiece,\n      pieces,\n      piecePosition,\n      score,\n      recordScore,\n      lines,\n      level,\n    });\n  }, [\n    playArea,\n    playAreaNoPiece,\n    statArea,\n    statAreaNoPiece,\n    pieces,\n    piecePosition,\n    score,\n    recordScore,\n    lines,\n    level,\n  ]);\n  // ---------------------------------------------------------------\n\n  // Создание стартового объекта состояния игровой области\n  useLayoutEffect(() => {\n    if (localStorage.getItem(\"saved-game\")) {\n      const savedGame = JSON.parse(localStorage.getItem(\"saved-game\"));\n      setPlayArea(savedGame.playArea);\n      setPlayAreaNoPiece(savedGame.playAreaNoPiece);\n      setStatArea(savedGame.statArea);\n      setStatAreaNoPiece(savedGame.statAreaNoPiece);\n      setPieces(savedGame.pieces);\n      setPiecePosition(savedGame.piecePosition);\n      setScore(savedGame.score);\n      setRecordScore(savedGame.recordScore);\n      setLines(savedGame.lines);\n      setLevel(savedGame.level);\n      return;\n    }\n\n    const initialPlayArea = createPlayArea();\n    const initialStatArea = createStatArea();\n\n    setPlayArea(initialPlayArea);\n    setPlayAreaNoPiece(initialPlayArea);\n    setStatArea(initialStatArea);\n    setStatAreaNoPiece(initialStatArea);\n  }, []);\n  // -------------------------------------------------------------------\n\n  //  Установка слушателей событий\n  useEffect(() => {\n    document.addEventListener(\"keyup\", handleKeyup);\n    document.addEventListener(\"keydown\", handleKeydown);\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeydown);\n      document.removeEventListener(\"keyup\", handleKeyup);\n    };\n  });\n  // ----------------------------------------------------------------------\n\n  // Обновление игрового поля\n  useEffect(() => {\n    if (!pieces.current || isRestart) return;\n    setPlayArea(updatePlayArea(playAreaNoPiece, pieces.current, piecePosition));\n  }, [playAreaNoPiece, pieces, piecePosition, isRestart]);\n  // ------------------------------------------------------------------------\n\n  // Обработка результата раунда\n  const handleRoundEnd = useCallback(\n    (playArea, pieces) => {\n      setPressedKey(\"\");\n      setPlayAreaNoPiece(playArea);\n      setPiecePosition({\n        position: \"base\",\n        x: 0,\n        y: 0,\n      });\n      const newPieces = handlePieces(pieces);\n      setStatArea(displayNextPiece(newPieces.next, statAreaNoPiece));\n      setPieces(newPieces);\n      setIsBlocked(false);\n      saveData();\n    },\n    [statAreaNoPiece, saveData]\n  );\n\n  useEffect(() => {\n    if (!isRoundFinished) return;\n    if (piecePosition.y === 0) {\n      setIsGameOver(true);\n      return;\n    }\n    const currentPlayArea = playArea;\n    const matches = searchMatch(currentPlayArea);\n    const matchedLines = Object.keys(matches).length;\n    if (matchedLines) {\n      setPlayArea(displayMatches(currentPlayArea, matches));\n      const newPlayAria = deleteMatches(currentPlayArea, matches);\n      const sumLines = lines + matchedLines;\n      setTimeout(() => {\n        setPlayArea(newPlayAria);\n        setScore(getScore(score, matchedLines, level.lev));\n        setLines(sumLines);\n        if (String(sumLines).startsWith(String(level.lev)) && sumLines !== 1) {\n          setLevel(LEVEL_CONFIG[level.lev + 1]);\n        }\n        handleRoundEnd(newPlayAria, pieces);\n      }, 600);\n\n      setIsRoundFinished(false);\n      return;\n    }\n\n    handleRoundEnd(currentPlayArea, pieces);\n    setIsRoundFinished(false);\n  }, [\n    isRoundFinished,\n    playArea,\n    pieces,\n    handleRoundEnd,\n    level,\n    score,\n    lines,\n    piecePosition,\n  ]);\n  // --------------------------------------------------------------------\n\n  //  Обработка GameOver\n  useEffect(() => {\n    if (!isGameOver || gameOverTimer || isRestart) return;\n\n    if (count >= 40) {\n      setPieces({ all: [], current: \"\", next: \"\" });\n      setStatArea(statAreaNoPiece);\n      setIsBlocked(false);\n      setIsPause(true);\n      save({\n        playArea,\n        playAreaNoPiece: playArea,\n        statArea: statAreaNoPiece,\n        statAreaNoPiece,\n        pieces: { all: [], current: \"\", next: \"\" },\n        piecePosition: {\n          position: \"base\",\n          x: 0,\n          y: 0,\n        },\n        score: 0,\n        recordScore,\n        lines: 0,\n        level: LEVEL_CONFIG[\"1\"],\n      });\n      if (score > recordScore) setRecordScore(score);\n      return;\n    }\n    setGameOverTimer(true);\n    const rowStartCell = count < 20 ? 200 - count * 10 : 10 + (count - 20) * 10;\n\n    count < 20\n      ? setPlayArea(fillPlayAria(playArea, rowStartCell))\n      : setPlayArea(clearPlayAria(playArea, rowStartCell));\n\n    setCount(count + 1);\n    setTimeout(() => setGameOverTimer(false), 40);\n  }, [\n    isGameOver,\n    count,\n    gameOverTimer,\n    playArea,\n    statAreaNoPiece,\n    isRestart,\n    recordScore,\n    score,\n  ]);\n  // --------------------------------------------------------------------\n\n  // Функции обработчики\n  const turnPiece = useCallback(() => {\n    if (isPause || isBlocked || isGameOver) return;\n    const newPos = getTurnPosition(piecePosition);\n    if (checkRotation(playAreaNoPiece, pieces.current, newPos)) {\n      setPiecePosition(newPos);\n    }\n  }, [isPause, isBlocked, piecePosition, playAreaNoPiece, pieces, isGameOver]);\n\n  const moveLeft = useCallback(() => {\n    if (isPause || isBlocked || isGameOver) return;\n    if (\n      checkMovement(playAreaNoPiece, pieces.current, piecePosition, \"checkLeft\")\n    ) {\n      setPiecePosition({ ...piecePosition, x: piecePosition.x - 1 });\n    }\n  }, [isPause, isBlocked, piecePosition, playAreaNoPiece, pieces, isGameOver]);\n\n  const moveRight = useCallback(() => {\n    if (isPause || isBlocked || isGameOver) return;\n    if (\n      checkMovement(\n        playAreaNoPiece,\n        pieces.current,\n        piecePosition,\n        \"checkRight\"\n      )\n    ) {\n      setPiecePosition({ ...piecePosition, x: piecePosition.x + 1 });\n    }\n  }, [isPause, isBlocked, piecePosition, playAreaNoPiece, pieces, isGameOver]);\n\n  const moveDown = useCallback(\n    (key) => {\n      if (isPause || isBlocked || isGameOver || isRoundFinished) return;\n      if (key === \"down\") {\n        setWasUserMoveDown(true);\n      }\n      if (\n        checkMovement(\n          playAreaNoPiece,\n          pieces.current,\n          piecePosition,\n          \"checkBottom\"\n        )\n      ) {\n        setPiecePosition({ ...piecePosition, y: piecePosition.y + 10 });\n        return;\n      }\n      setIsRoundFinished(true);\n      setIsBlocked(true);\n    },\n    [\n      isPause,\n      isBlocked,\n      piecePosition,\n      playAreaNoPiece,\n      pieces,\n      isGameOver,\n      isRoundFinished,\n    ]\n  );\n\n  const dropDown = () => {\n    if (isPause || isBlocked || isGameOver || isRoundFinished) return;\n    const drop = handleDrop(playAreaNoPiece, pieces.current, piecePosition);\n    setPiecePosition(drop);\n    setTimeout(() => {\n      setIsRoundFinished(true);\n      setIsBlocked(true);\n    }, 0);\n  };\n\n  const startGame = () => {\n    const newPieces = handlePieces(pieces);\n    setStatArea(displayNextPiece(newPieces.next, statAreaNoPiece));\n    setPieces(newPieces);\n    setIsPause(false);\n    setIsResrart(false);\n  };\n\n  const handlePause = () => {\n    if (isGameOver) return restartGame();\n\n    pieces.current ? setIsPause(!isPause) : startGame();\n    setPressedKey(\"pause\");\n  };\n  // ------------------------------------------------------------------------\n\n  // Устранение стандартной задержки автоповтора keydown\n  useEffect(() => {\n    if (!Object.keys(CONTROL_KEYS).includes(pressedKey) || isEffectBlocked)\n      return;\n    setIsEffectBlocked(true);\n\n    if (еffectСount >= 1) {\n      pressedKey === \"left\"\n        ? moveLeft()\n        : pressedKey === \"right\"\n        ? moveRight()\n        : pressedKey === \"down\"\n        ? moveDown()\n        : turnPiece();\n    }\n\n    const time =\n      еffectСount < 1 && pressedKey !== \"turn\"\n        ? 170\n        : pressedKey === \"turn\"\n        ? 170\n        : 50;\n    setTimeout(() => setIsEffectBlocked(false), time);\n\n    if (еffectСount < 1) setEffectCount(еffectСount + 1);\n  }, [\n    pressedKey,\n    moveLeft,\n    moveRight,\n    moveDown,\n    isEffectBlocked,\n    еffectСount,\n    turnPiece,\n  ]);\n  // -------------------------------------------------------------------------\n\n  // Установка таймера на движение фигур вниз, и её перемещение вниз\n  useEffect(() => {\n    if (isTimerRunning || isPause || isBlocked || isGameOver) return;\n    setIsTimerRunning(true);\n    setWasUserMoveDown(false);\n    setTimeout(() => setIsTimeEnded(true), level.speed);\n  }, [isTimerRunning, isPause, level, isBlocked, isGameOver]);\n\n  useEffect(() => {\n    if (!isTimeEnded || pressedKey === \"down\") return;\n    if (wasUserMoveDown || isRoundFinished) {\n      setIsTimeEnded(false);\n      setIsTimerRunning(false);\n      return;\n    }\n    moveDown();\n    setIsTimeEnded(false);\n    setIsTimerRunning(false);\n  }, [isTimeEnded, moveDown, pressedKey, wasUserMoveDown, isRoundFinished]);\n  // -------------------------------------------------------------------------\n\n  // Сброс игры\n  const restartGame = () => {\n    const initialPlayArea = createPlayArea();\n    setIsResrart(true);\n    setIsRoundFinished(false);\n    setPlayArea(initialPlayArea);\n    setPlayAreaNoPiece(initialPlayArea);\n    setStatArea(statAreaNoPiece);\n    setPieces({ all: [], current: \"\", next: \"\" });\n    setPiecePosition({\n      position: \"base\",\n      x: 0,\n      y: 0,\n    });\n    setScore(0);\n    setLines(0);\n    setLevel(LEVEL_CONFIG[\"1\"]);\n    setCount(0);\n    setIsGameOver(false);\n    startGame();\n  };\n\n  // ---------------------------------------------------------------------------\n\n  //  Обработчики нажатий клавиш клавиатуры\n  const handleKeydown = (e) => {\n    if (!isPause) e.preventDefault();\n    if (isBlocked) return;\n\n    if ((e.key === \"p\" || e.key === \"P\") && !pressedKey) {\n      handlePause();\n      return;\n    }\n\n    if ((e.key === \"r\" || e.key === \"R\") && !pressedKey) {\n      setPressedKey(\"restart\");\n      restartGame();\n      return;\n    }\n\n    if (isGameOver || isPause || CONTROL_KEYS[pressedKey]?.includes(e.key))\n      return;\n\n    if (e.key === \"ArrowUp\" || e.key === \"w\") {\n      turnPiece();\n      setPressedKey(\"turn\");\n      return;\n    }\n    if (e.key === \"ArrowLeft\" || e.key === \"a\") {\n      moveLeft();\n      setPressedKey(\"left\");\n      return;\n    }\n\n    if (e.key === \"ArrowRight\" || e.key === \"d\") {\n      moveRight();\n      setPressedKey(\"right\");\n      return;\n    }\n\n    if (e.key === \"ArrowDown\" || e.key === \"s\") {\n      moveDown(\"down\");\n      setPressedKey(\"down\");\n      return;\n    }\n\n    if (e.key === \"Control\" || e.key === \"x\") {\n      dropDown();\n      setPressedKey(\"drop\");\n      return;\n    }\n  };\n\n  const handleKeyup = (e) => {\n    setPressedKey(\"\");\n    setEffectCount(0);\n  };\n  // ------------------------------------------------------------------\n\n  // Обработчики событий мыши\n  const handleMouseDown = (key) => {\n    if (pressedKey === key) return;\n    key === \"turn\"\n      ? turnPiece()\n      : key === \"left\"\n      ? moveLeft()\n      : key === \"right\"\n      ? moveRight()\n      : key === \"down\"\n      ? moveDown(\"down\")\n      : key === \"drop\"\n      ? dropDown()\n      : key === \"restart\"\n      ? restartGame()\n      : handlePause();\n\n    setPressedKey(key);\n  };\n\n  const handleMouseUp = () => {\n    setPressedKey(\"\");\n    if (setEffectCount !== 0) setEffectCount(0);\n  };\n  // ------------------------------------------------------------------\n\n  return (\n    <div className=\"app\">\n      <Main>\n        <BrickGame\n          field={playArea || {}}\n          statFild={statArea || {}}\n          score={score}\n          lines={lines}\n          level={level.lev}\n          isPause={isPause}\n          isStarted={pieces.current}\n          isEnd={isGameOver}\n          record={recordScore}\n          onDown={handleMouseDown}\n          onUp={handleMouseUp}\n          pressedKey={pressedKey}\n          isTablet={isTablet}\n        />\n      </Main>\n      {!isTablet && <Footer />}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}